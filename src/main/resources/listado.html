<div ng-controller="ListadoController">
    <h5 class="text-center">Lista de archivos multimedia declarados</h5>
    <div class="alert alert-info text-center text-capitalize">
        <strong>Información</strong> Aquí se encuentra la lista de archivos multimedia encontrados y declarados por el
        usuario, indistintamente si es publicidad o música para su reproducción
    </div>
    <div class="card">
        <nav class="nav nav-pills nav-fill">
            <button type="button" ng-click="cargar()" class="btn btn-primary"><span
                    class="glyphicon glyphicon-refresh"></span> Recargar
            </button>
            <button type="button" ng-click="desseleccionartodos()" class="btn btn-light">Desseleccionar todos</button>
            <button type="button" ng-click="seleccionartodos()" class="btn btn-light"><span
                    class="glyphicon glyphicon-list-alt"></span> Seleccionar todos
            </button>
            <button type="button" ng-click="invertirseleccion()" class="btn btn-light">Invertir seleccion</button>
            <div class="dropdown">
                <button ng-disabled="albumes.length == 1 || canciones.length == 0" class="btn btn-warning dropdown-toggle"
                        type="button" id="mostraralbumpormenu" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false">
                    Mostrar por album
                </button>
                <div class="dropdown-menu" aria-labelledby="mostraralbumpormenu">
                    <button class="dropdown-item" type="button" ng-click="mostrarporalbum('');" ng-class="{'active' : '' == albumseleccionado }" >Todos</button>
                    <button ng-repeat="albumes in albumes" class="dropdown-item" type="button"
                            ng-class="{'active' : albumes.dato == albumseleccionado }"
                            ng-click="mostrarporalbum(albumes.dato);">{{albumes.dato}}
                    </button>
                </div>
            </div>
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle"
                        ng-disabled="cancionesseleccionadas == 0 || cancionesseleccionadas === undefined" type="button"
                        id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Cambiar de album
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                    <button ng-repeat="albumes in albumes" class="dropdown-item" type="button"
                            ng-click="cambiaralbum(albumes.dato);">{{albumes.dato}}
                    </button>
                </div>
            </div>
            <div class="dropdown">
                <button ng-disabled="cancionesseleccionadas == 0 || cancionesseleccionadas === undefined"
                        class="btn btn-warning dropdown-toggle" type="button" id="habilitardeshabilitarmenu"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Des/Habilitar Música
                </button>
                <div class="dropdown-menu" aria-labelledby="habilitardeshabilitarmenu">
                    <button ng-disabled="cancionesseleccionadas == 0 || cancionesseleccionadas === undefined"
                            type="button"
                            ng-click="anularseleccionados()" class="dropdown-item">Anular seleccionados
                    </button>
                    <button ng-disabled="cancionesseleccionadas == 0 || cancionesseleccionadas === undefined"
                            type="button"
                            ng-click="habilitarseleccionados()" class="dropdown-item">Habilitar seleccionados
                    </button>
                </div>
            </div>


            <button ng-disabled="cancionesseleccionadas == 0 || cancionesseleccionadas === undefined" type="button"
                    ng-click="borrarseleccionados()" class="btn btn-danger">Borrar
            </button>
        </nav>
        <table id="listadomultimedia" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
            <thead>
            <tr>
                <th></th>
                <th>#</th>
                <th>Nombre</th>
                <th ng-show="mostrarrutas">Ruta</th>
                <th>Albúm</th>
                <th>Anulado</th>
            </tr>
            </thead>
            <tfoot>
            <tr>
                <th></th>
                <th>#</th>
                <th>Nombre</th>
                <th ng-show="mostrarrutas">Ruta</th>
                <th>Albúm</th>
                <th>Anulado</th>
            </tr>
            </tfoot>
            <tbody>
            <tr ng-repeat="canciones in canciones  track by $index" ng-class="{'table-info' : canciones.seleccionado }" ng-show="albumseleccionado == canciones.album || albumseleccionado==''">
                <td>
                    <button type="button" ng-click="desseleccionar(canciones)" ng-if="canciones.seleccionado"
                            class="btn btn-default" aria-label="desseleccionar"><span ng-if="canciones.seleccionado"
                                                                                      class="glyphicon glyphicon-check"
                                                                                      aria-hidden="true"></span>
                    </button>
                    <button type="button" ng-if="! canciones.seleccionado" ng-click="seleccionar(canciones)"
                            class="btn btn-default" aria-label="seleccionar"><span ng-if="! canciones.seleccionado"
                                                                                   aria-hidden="true"
                                                                                   class="glyphicon glyphicon-unchecked"></span>
                    </button>
                </td>
                <td>{{canciones.id}}</td>
                <td>{{canciones.nombre}}</td>
                <td ng-show="mostrarrutas">{{canciones.ruta}}</td>
                <td>{{canciones.album}}</td>
                <td><span ng-if="canciones.anulado" class="glyphicon glyphicon-ok"></span><span
                        ng-if="! canciones.anulado" class="glyphicon glyphicon-remove"></span></td>

            </tr>
            </tbody>
        </table>
    </div>
    <div ng-show="cancionesseleccionadas === undefined" class="alert alert-info text-center text-capitalize">hay
        {{cancionesseleccionadas}} seleccionada/s
    </div>
    <button type="button" class="btn btn-outline-primary" ng-click="btnmostrarrutas();">Mostrar rutas</button>
</div>      


