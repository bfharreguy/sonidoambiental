<div ng-controller="AlbumsController">
    <h5 class="text-center">Listado de Álbumes</h5>
    <nav class="nav nav-pills nav-fill">
        <button type="button" ng-click="cargar()" class="btn btn-light">Recargar</button>
        <button type="button" ng-click="formulario.agregaralbum.nombrenuevo='';editaroagregar='Agregar album'" data-target="#editaroagregaralbum" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="agregaralbum"
                 class="btn btn-light">Agregar album
        </button>
        <button type="button" ng-disabled="cantidadseleccionadas==0" data-target="#editaroagregaralbum" ng-click="formulario.agregaralbum.nombrenuevo=nombredealbumeseleccionado();editaroagregar='Editar album'" data-toggle="collapse" role="button" aria-expanded="true" aria-controls="editaralbum"
                class="btn btn-light">Editar album
        </button>
        <button type="button" ng-disabled="(cantidadseleccionadas == albumes.length) || (albumes.length == 1) || (cantidadseleccionadas == 0)"
                ng-click="eliminaralbum()" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Elimina albums seleccionados, debe tener en cuenta que si elimina donde hay musica, la musica se cambiara automaticamente a otro album, no se elimina la música">Eliminar album
        </button>
    </nav>
    <div ng-show="(editaroagregar=='Agregar album') || (cantidadseleccionadas >0 && editaroagregar=='Editar album')" class="collapse" id="editaroagregaralbum">
        <div class="card card-body">
            <form class="form-inline" name="formulario.editaroagregaralbum">
                <div class="form-group mx-sm-3 mb-2">
                    <input type="text" name="formulario.editaroagregaralbum.nombrenuevo" ng-model="formulario.agregaralbum.nombrenuevo" class="form-control" id="albumnuevo"  placeholder="Nombre del album">
                </div>
                <button type="button" data-target="#agregaralbum" data-toggle="collapse" ng-click="editaroagregaralbum(formulario.agregaralbum.nombrenuevo, editaroagregar, nombredealbumeseleccionado());" class="btn btn-light  mb-2">{{editaroagregar}}</button>
            </form>
        </div>
    </div>
    <table class="table table-sm">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre de album</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="albumes in albumes">
            <td>

                <button type="button" ng-click="desseleccionar(albumes)" ng-if="albumes.seleccionado"
                        class="btn btn-default" aria-label="desseleccionar"><span ng-if="albumes.seleccionado"
                                                                                  class="glyphicon glyphicon-check"
                                                                                  aria-hidden="true"></span>
                </button>
                <button type="button" ng-click="seleccionar(albumes)" ng-if="(! albumes.seleccionado)"
                        class="btn btn-default" aria-label="seleccionar"><span ng-if="! albumes.seleccionado"
                                                                               aria-hidden="true"
                                                                               class="glyphicon glyphicon-unchecked"></span>
                </button>
            </td>
            <td>{{albumes.dato}}</td>
        </tr>
        </tbody>
    </table>
    <div class="modal" id="mensajeamostrar" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{tituloerroramostrarmensaje}}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div ng-show="error" class="alert-danger justify-content-between">
                        <span class="glyphicon glyphicon-warning-sign"></span>
                        <p>{{erroramostrarmensaje}}</p>
                    </div>
                    <p ng-show="!error">{{erroramostrarmensaje}}</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Aceptar</button>
                </div>
            </div>
        </div>
    </div>

</div>